<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CoVolunteer</title>

        <!------------------------------------------------------------------------------>
        <!-- Bootstrap for Mobile-first                                               -->
        <!------------------------------------------------------------------------------>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>


        <!------------------------------------------------------------------------------>
        <!-- Add Firebase products that you want to use                               -->
        <!------------------------------------------------------------------------------>
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.2.2/firebase-firestore.js"></script>
        <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
        <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />


        <!------------------------------------------------------------------------------>
        <!-- CSS styles and scripts of for this page                                  -->
        <!------------------------------------------------------------------------------>
        <script type='text/javascript' src='js/config.js'></script> <!-- API Key-->
        <script src="js/firebase_config.js"></script> <!-- Firebase Config -->
        <script src="js/user.js"></script> <!-- firebase User -->
        <!-- This Page's JavaScript and CSS-->
        <script src="js/addressNotification.js"></script>
        <script src="js/main.js"></script>
        <script src="js/map.js"></script>
        <script defer src="js/createVolunteerPostSearchBar.js"></script>
        <script src='https://kit.fontawesome.com/a076d05399.js'></script>

        <link rel="stylesheet" type="text/css" href="css/searchBar.css"> <!-- firebase User -->
        <link rel="stylesheet" type="text/css" href="css/nav.css">
        <link rel="stylesheet" type="text/css" href="css/sidebar.css">
        <link rel="stylesheet" type="text/css" href="css/allPagesLayout.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" type="text/css" href="css/pagesNavResponsive.css"> 

        <script src="js/pagesNavPopUp.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://use.fontawesome.com/45d1426d9b.js"></script>
        <!-- favicon -->
        <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
        <!-- User Related methods -->
    </head>
    <body>
        <header id="navPopUp">
            <div id="popupSpace"></div>
            <h1><a class="nav" id="navPopupBack">CoVolunteer</a></h1>
            <h4><a class="nav" href="chooserole.html">Change Role</a></h4>
            <h4><a class="nav" href="createRequestPost.html">Request Help</a></h4>
            <h4><a class="nav" href="requestreq.html">My Requests</a></h4>
            <h4><a class="nav" href="shoppingList.html">My Shopping List</a></h4>
        </header>
        <div class="grid-container-whole-page">
            <!------------------------------------------------------------------------------>
            <!--                              nav starts here                             -->
            <!------------------------------------------------------------------------------>
           
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand" href="main.html">COVolunteer</a>
                <a id ="nav-logo" class="navLeft" href="main.html"><img id="logo" src="img/logo.png"></a>
                <img id="bars" src="img/bars.png">
                <!-- <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button> -->
                <div id="navbarSupportedContent">
                    <div id="startnav">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="chooserole.html">
                                    <div class="icon">
                                        <i class="fa fa-home"></i> Change your Role
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="main.html">
                                    <div class="icon">
                                        <i class="fa fa-edit"></i> Apply for Help
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="createRequestPost.html">
                                    <div class="icon">
                                        <i class="fa fa-cart-plus"></i> Create Request Help Post
                                    </div>
                                </a>
                            </li>
                    </div>
                    <ul class="nav justify-content-end end-nav navbar-nav">
                        <li class="navbar-text nav-item">
                            <div class="icon">
                                <i class="fa fa-user"></i> Welcome Back <b id="userName"
                                    style="padding-left: 1vw;">user</b>
                            </div>
                        </li>
                        
                        <li class="nav-item active">
                            <a class="nav-link" href="index.html" id="logout">
                                <div class="icon">
                                    <i class="fa fa-sign-out"></i>Logout
                                </div>
                            </a>
                        </li>
                    </ul>
                    </ul>
                </div>
                
            </nav>
            <!------------------------------------------------------------------------------>
            <!--                       SideBar Starts here                                -->
            <!------------------------------------------------------------------------------>
            <nav id="sidebar" class="col-md-2 d-none d-md-block">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <img id="profile-pic" src="https://via.placeholder.com/150" alt="Profile picture" />
                        <li class="nav-item profile-request">
                            <a class="nav-link active" href="profile.html">
                                <div class="icon">
                                    <i class="fa fa-address-card"></i> My Profile
                                </div>
                            </a>
                        </li>
                        <!-- users to view requests on their volunteer post, click accept or decline on the requests-->
                        <li class="nav-item profile-request">
                            <a class="nav-link active" href="requestreq.html">
                                <div id="pendingRequests" class="icon">
                                    <i class="fa fa-heart"></i> My Pending Requests
                                </div>
                            </a>
                        </li>
                        <!-- users to view all their completed requests-->
                        <li class="nav-item profile-request">
                            <a class="nav-link active" href="completereq.html">
                                <div class="icon">
                                    <i class="fa fa-check-square"></i> Completed Requests
                                </div>
                            </a>
                        </li>
                        <!-- users to view the requests they've accepted but not yet completed -->
                        <li class="nav-item profile-request">
                            <a class="nav-link active" href="acceptreq.html">
                                <div class="icon">
                                    <i class="fa fa-plus-square"></i> Accepted Requests
                                </div>
                            </a>
                        </li>
                        <!-- users to view the requests Shopping List -->
                        <li class="nav-item profile-request">
                            <a class="nav-link active" href="shoppingList.html">
                                <div class="icon">
                                    <i class="fa fa-plus-square"></i> My Awesome Shopping List
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!------------------------------------------------------------------------------>
            <!--                        end of Nav and sidebar                            -->
            <!------------------------------------------------------------------------------>


            <!------------------------------------------------------------------------------>
            <!-- Make a request button popup -- Button trigger modal                      -->
            <!------------------------------------------------------------------------------>
            <!-- To Trigger Popup, add:data-toggle="modal" data-target="#exampleModal" to the button element-->
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="volunteerName">Send Your Request To Animesh</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="card-container">
                                <div>
                                    <Form id="msg">
                                        <fieldset>
                                            <legend>Enter Message</legend>
                                            <textarea type="text" name="message" id="msgEntry" required></textarea>
                                        </fieldset>
                                    </Form>
                                </div>
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Your Current List</h5>
                                        <h6 class="card-subtitle">
                                        </h6>
                                        <ul class="list-group current-list-group" id="currentList">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="submit" class="btn btn-primary" id="send-request" data-dismiss="modal">Send
                                Request</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End of make a request button popup -->

            
            <!------------------------------------------------------------------------------>
            <!--                        Main Content Starts                               -->
            <!------------------------------------------------------------------------------>

            <main class="main-content">
                <section class="posts" id="item_cards">
                    <!-- //////////////////////  This is Sample Request Post ///////////////////////////////-->

                    <!-- <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">Animesh Kaushal</h4>
                            <div style="float:right">distance</div>
                            <i class='fas fa-map-marker-alt' onclick="dropPin()"></i>
                            <h6 class="card-subtitle mb-2 text-muted">Kitsilano</h6>
                            <h6 class="card-subtitle mb-2 text-muted">Kitsilano</h6>
                            <p class="card-text">
                                I am going to liqour depot.
                            </p>
                            <button type="button" id="first" class="btn btn-outline-info make-request" data-toggle="modal" value="asd" data-target="#exampleModal">Make a request</button>
                        </div>
                    </div> -->

                    <!-- //////////////////////  /////////////////////////////// ///////////////////////////////-->
                </section>
                <aside>
                    <aside id="map-container">
                        <div id="map"></div>
                    </aside>
                </aside>
            </main>
            <!--Testing Modal Notification window-->

            <!-- The Modal -->
            <div id="myModal" class="modal">
                <!-- Modal content -->
                <div class="modal-content">
                    <!--<span class="close">&times;</span>-->
                    <p>Please update <a href="editProfile.html">address</a></p>
                </div>
            </div>
        </div>
        <!-- This input is to make map work correctly -->
        <input id="pac-input" class="controls form-control" type="text" style="display:none">
        <script>
            $(document).ready(() => {
                showCurrentList();
                sendRequest(makeARequestButtonDone);
                workingWithNotifications();
                sortPostsInDB();

                showName();
                logout()
            })
        </script>
    </body>

</html>